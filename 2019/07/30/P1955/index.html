<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js">
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">



<title>é¢˜è§£ï¼šæ´›è°·P1955ï¼š[NOI2015]ç¨‹åºè‡ªåŠ¨åˆ†æ | KONGJUNE&#39;s BLOG</title>



    <link rel="icon" type="image/png" href="/favicon.png">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        <!-- MathJaxé…ç½®ï¼Œå¯é€šè¿‡å•ç¾å…ƒç¬¦å·ä¹¦å†™è¡Œå†…å…¬å¼ç­‰ -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
    });
</script>
<!-- ç»™MathJaxå…ƒç´ æ·»åŠ has-jax class -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<!-- é€šè¿‡è¿æ¥CDNåŠ è½½MathJaxçš„jsä»£ç  -->
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
</script>


    


</head>
<body>
    <div class="wrapper">
        <script>
    $("#toTop").attr("style", "display:none;");
    $(function() {
        $(window).scroll(function() {
            var scroll_top = $(window).scrollTop();
            if (scroll_top >= 100) {
                $("#toTop").fadeIn();
            } else {
                $("#toTop").fadeOut();
            }
        })
    })
</script>
<header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">KONGJUNE&#39;s BLOG</a></div>
            <div class="menu navbar-right">
                
                <a class="menu-item" href="/archives">å½’æ¡£</a>
                
                <a class="menu-item" href="/category">ç±»åˆ«</a>
                
                <a class="menu-item" href="/tag">æ ‡ç­¾</a>
                
                <a class="menu-item" href="/mc">Minecraft</a>
                
                <input id="switch_default" type="checkbox" class="switch_default" style="display: none;">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">KONGJUNE&#39;s BLOG</a><a id="mobile-toggle-theme">Â·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                <a class="menu-item" href="/archives">å½’æ¡£</a>
                
                <a class="menu-item" href="/category">ç±»åˆ«</a>
                
                <a class="menu-item" href="/tag">æ ‡ç­¾</a>
                
                <a class="menu-item" href="/mc">Minecraft</a>
                
            </div>
        </div>
    </nav>
</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if (toggleMenu.classList.contains("active")) {
            toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        } else {
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
<style>
    .box {
        display: none;
        position: fixed;
        right: 20px;
        bottom: 20px;
        height: 30px;
        width: 50px;
        text-align: center;
        padding-top: 20px;
        background-color: #FFFFFF;
        color: #000000;
        border-radius: 50%;
        overflow: hidden;
        box-shadow: 0px 3px 5px #666666;
        transition: background-color .5s;
        -moz-transition: background-color .5s;
        -webkit-transition: background-color .5s;
        -o-transition: background-color .5s;
    }

    .box:hover:before {
        top: 50%
    }

    .box:hover {
        background-color: #292a2d;
    }

    .box:hover .box-in {
        border-color: #FFFFFF transparent transparent #FFFFFF;
    }

    .box:before {
        position: absolute;
        top: -50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        border: 3px solid black;
        border-color: black transparent transparent white;
        font-weight: bold;
    }

    .box-in {
        visibility: visible;
        display: inline-block;
        height: 15px;
        width: 15px;
        border: 3px solid black;
        border-color: #777777 transparent transparent #777777;
        transform: rotate(45deg);
        transition: border-color .5s;
        -moz-transition: border-color .5s;
        -webkit-transition: border-color .5s;
        -o-transition: border-color .5s;
    }
</style>

<body>
    <div id="toTop" class="box" style="z-index:9999;">
        <div class="box-in"></div>
    </div>
</body>
<script>
    var timer = null;
    toTop.onclick = function() {
        cancelAnimationFrame(timer);
        timer = requestAnimationFrame(function fn() {
            var oTop = document.body.scrollTop || document.documentElement.scrollTop;
            if (oTop > 0) {
                document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
                timer = requestAnimationFrame(fn);
            } else {
                cancelAnimationFrame(timer);
            }
        });
    }
</script>

        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">å±•å¼€å…¨éƒ¨ç›®å½•</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "æ”¶èµ·ç›®å½•æ¬¡é¡¹"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "å±•å¼€å…¨éƒ¨ç›®å½•"
    }
</script>

    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">é¢˜è§£ï¼šæ´›è°·P1955ï¼š[NOI2015]ç¨‹åºè‡ªåŠ¨åˆ†æ</h1>
            
                <div class="post-meta">
                    
                        ç¼–è€…: <a itemprop="author" rel="author" href="/">KONGJUNE</a>
                    

                    
                        <span class="post-time">
                        æ—¥æœŸ: <a href="#">2019-07-30&nbsp;&nbsp;20:26:09</a>
                        </span>
                    
                    
                        <span class="post-category">
                    ç±»åˆ«:
                            
                                <a href="/categories/é¢˜è§£/">é¢˜è§£</a>
                            
                        </span>
                    
                </div>
            
        </header>
        
        <div style="
            background-image: url(/img/P1955/banner.png);
            height: 300px;
            background-position-x: center;
            background-position-y: center;
            background-repeat: no-repeat;
            -moz-background-size:100% 100%;
            background-size:cover;
        ">
        <p> </p>
        </div>
        
        <div class="post-content">
            <p>ç®—æ³•ï¼šå¹¶æŸ¥åŸºã€ç¦»æ•£åŒ–ã€æ–‡ä»¶è¯»å…¥ä¸å†™å‡ºã€‚</p>
<blockquote>
<h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>åœ¨å®ç°ç¨‹åºè‡ªåŠ¨åˆ†æçš„è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸éœ€è¦åˆ¤å®šä¸€äº›çº¦æŸæ¡ä»¶æ˜¯å¦èƒ½è¢«åŒæ—¶æ»¡è¶³ã€‚</p>
<p>è€ƒè™‘ä¸€ä¸ªçº¦æŸæ»¡è¶³é—®é¢˜çš„ç®€åŒ–ç‰ˆæœ¬ï¼šå‡è®¾ $x_1ï¼Œx_2ï¼Œx_3\dots$ä»£è¡¨ç¨‹åºä¸­å‡ºç°çš„å˜é‡ï¼Œç»™å®š $n$ ä¸ªå½¢å¦‚$x_i=x_j$æˆ–$x_i \neq x_j$çš„å˜é‡ç›¸ç­‰/ä¸ç­‰çš„çº¦æŸæ¡ä»¶ï¼Œè¯·åˆ¤å®šæ˜¯å¦å¯ä»¥åˆ†åˆ«ä¸ºæ¯ä¸€ä¸ªå˜é‡èµ‹äºˆæ°å½“çš„å€¼ï¼Œä½¿å¾—ä¸Šè¿°æ‰€æœ‰çº¦æŸæ¡ä»¶åŒæ—¶è¢«æ»¡è¶³ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªé—®é¢˜ä¸­çš„çº¦æŸæ¡ä»¶ä¸ºï¼š$x_1=x_2,x_2=x_3,x_3=x_4,x_4\neq x_1$ï¼Œè¿™äº›çº¦æŸæ¡ä»¶æ˜¾ç„¶æ˜¯ä¸å¯èƒ½åŒæ—¶è¢«æ»¡è¶³çš„ï¼Œå› æ­¤è¿™ä¸ªé—®é¢˜åº”åˆ¤å®šä¸ºä¸å¯è¢«æ»¡è¶³ã€‚</p>
<p>ç°åœ¨ç»™å‡ºä¸€äº›çº¦æŸæ»¡è¶³é—®é¢˜ï¼Œè¯·åˆ†åˆ«å¯¹å®ƒä»¬è¿›è¡Œåˆ¤å®šã€‚</p>
<h3 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><p>ä»æ–‡ä»¶<code>prog.in</code>ä¸­è¯»å…¥æ•°æ®ã€‚</p>
<p>è¾“å…¥æ–‡ä»¶çš„ç¬¬ $1$ è¡ŒåŒ…å« $1$ ä¸ªæ­£æ•´æ•° $t$ï¼Œè¡¨ç¤ºéœ€è¦åˆ¤å®šçš„é—®é¢˜ä¸ªæ•°ã€‚æ³¨æ„è¿™äº›é—®é¢˜ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</p>
<p>å¯¹äºæ¯ä¸ªé—®é¢˜ï¼ŒåŒ…å«è‹¥å¹²è¡Œï¼š</p>
<p>ç¬¬ $1$ è¡ŒåŒ…å« $1$ ä¸ªæ­£æ•´æ•° $n$ ï¼Œè¡¨ç¤ºè¯¥é—®é¢˜ä¸­éœ€è¦è¢«æ»¡è¶³çš„çº¦æŸæ¡ä»¶ä¸ªæ•°ã€‚æ¥ä¸‹æ¥ $n$ è¡Œï¼Œæ¯è¡ŒåŒ…æ‹¬ $3$ ä¸ªæ•´æ•° $i,j,e$ï¼Œæè¿° $1$ ä¸ªç›¸ç­‰/ä¸ç­‰çš„çº¦æŸæ¡ä»¶ï¼Œç›¸é‚»æ•´æ•°ä¹‹é—´ç”¨å•ä¸ªç©ºæ ¼éš”å¼€ã€‚è‹¥ $e=1$ï¼Œåˆ™è¯¥çº¦æŸæ¡ä»¶ä¸º $xi=xj$ï¼›è‹¥ $e=0$ï¼Œåˆ™è¯¥çº¦æŸæ¡ä»¶ä¸º $xi\neq xj$ï¼›</p>
<h3 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><p>è¾“å‡ºåˆ°æ–‡ä»¶ <code>prog.out</code> ä¸­ã€‚</p>
<p>è¾“å‡ºæ–‡ä»¶åŒ…æ‹¬ $t$ è¡Œã€‚</p>
<p>è¾“å‡ºæ–‡ä»¶çš„ç¬¬ $k$ è¡Œè¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²â€œ YESâ€ æˆ–è€…â€œNOâ€ï¼ˆä¸åŒ…å«å¼•å·ï¼Œå­—æ¯å…¨éƒ¨å¤§å†™ï¼‰ï¼Œâ€œYESâ€ è¡¨ç¤ºè¾“å…¥ä¸­çš„ç¬¬ $k$ ä¸ªé—®é¢˜åˆ¤å®šä¸ºå¯ä»¥è¢«æ»¡è¶³ï¼Œâ€œNOâ€ è¡¨ç¤ºä¸å¯è¢«æ»¡è¶³ã€‚</p>
<h3 id="è¾“å…¥è¾“å‡ºæ ·ä¾‹"><a href="#è¾“å…¥è¾“å‡ºæ ·ä¾‹" class="headerlink" title="è¾“å…¥è¾“å‡ºæ ·ä¾‹"></a>è¾“å…¥è¾“å‡ºæ ·ä¾‹</h3><p><strong>è¾“å…¥ #1</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">2</span><br><span class="line">1 2 1</span><br><span class="line">1 2 0</span><br><span class="line">2</span><br><span class="line">1 2 1</span><br><span class="line">2 1 1</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>è¾“å‡º #1</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NO</span><br><span class="line">YES</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>è¾“å…¥ #2</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">1 2 1</span><br><span class="line">2 3 1</span><br><span class="line">3 1 1</span><br><span class="line">4</span><br><span class="line">1 2 1</span><br><span class="line">2 3 1</span><br><span class="line">3 4 1</span><br><span class="line">1 4 0</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>è¾“å‡º #2</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<h3 id="è¯´æ˜-æç¤º"><a href="#è¯´æ˜-æç¤º" class="headerlink" title="è¯´æ˜/æç¤º"></a>è¯´æ˜/æç¤º</h3><p>ã€æ ·ä¾‹è§£é‡Š1ã€‘</p>
<p>åœ¨ç¬¬ä¸€ä¸ªé—®é¢˜ä¸­ï¼Œçº¦æŸæ¡ä»¶ä¸ºï¼š$x1=x2,x1\neq x2$ã€‚è¿™ä¸¤ä¸ªçº¦æŸæ¡ä»¶äº’ç›¸çŸ›ç›¾ï¼Œå› æ­¤ä¸å¯è¢«åŒæ—¶æ»¡è¶³ã€‚</p>
<p>åœ¨ç¬¬äºŒä¸ªé—®é¢˜ä¸­ï¼Œçº¦æŸæ¡ä»¶ä¸ºï¼š$x1=x2,x1=x2$ã€‚è¿™ä¸¤ä¸ªçº¦æŸæ¡ä»¶æ˜¯ç­‰ä»·çš„ï¼Œå¯ä»¥è¢«åŒæ—¶æ»¡è¶³ã€‚</p>
<p>ã€æ ·ä¾‹è¯´æ˜2ã€‘</p>
<p>åœ¨ç¬¬ä¸€ä¸ªé—®é¢˜ä¸­ï¼Œçº¦æŸæ¡ä»¶æœ‰ä¸‰ä¸ªï¼š$x1=x2,x2=x3,x3=x1$ã€‚åªéœ€èµ‹å€¼ä½¿å¾—$x1=x1=x1$ï¼Œå³å¯åŒæ—¶æ»¡è¶³æ‰€æœ‰çš„çº¦æŸæ¡ä»¶ã€‚</p>
<p>åœ¨ç¬¬äºŒä¸ªé—®é¢˜ä¸­ï¼Œçº¦æŸæ¡ä»¶æœ‰å››ä¸ªï¼š$x1=x2,x2=x3,x3=x4,x4\neq x1$ã€‚ç”±å‰ä¸‰ä¸ªçº¦æŸæ¡ä»¶å¯ä»¥æ¨å‡º$x1=x2=x3=x4$ï¼Œç„¶è€Œæœ€åä¸€ä¸ªçº¦æŸæ¡ä»¶å´è¦æ±‚$x1\neq x4$ï¼Œå› æ­¤ä¸å¯è¢«æ»¡è¶³ã€‚</p>
<p>ã€æ•°æ®èŒƒå›´ã€‘</p>
<p><img src="/img/P1955/1503.png" alt="img"></p>
<p>ã€æ—¶é™2sï¼Œå†…å­˜512Mã€‘</p>
</blockquote>
<p>é¢˜ç›®ä¼ é€é—¨ï¼š<a href="https://www.luogu.org/problem/P1955" target="_blank" rel="noopener">ğŸšª</a></p>
<h2 id="æ–‡ä»¶è¯»å…¥ä¸å†™å‡º"><a href="#æ–‡ä»¶è¯»å…¥ä¸å†™å‡º" class="headerlink" title="æ–‡ä»¶è¯»å…¥ä¸å†™å‡º"></a>æ–‡ä»¶è¯»å…¥ä¸å†™å‡º</h2><p>è™½è¯´é¢˜å¹²å†™ç€ä»æ–‡ä»¶è¯»å…¥ï¼Œå†™å‡ºåˆ°æ–‡ä»¶ï¼Œä½†å…¶å®è¿™ä¸ªé¢˜å®Œå…¨ä¸éœ€è¦â€¦â€¦ç›´æ¥æ ‡å‡†è¯»å…¥è¯»å‡ºå°±å¯ä»¥â€¦â€¦å¯æ€œæˆ‘å¤ªå®è¯šâ€¦â€¦é…¿é€ äº†å¦‚ä¸‹æƒ¨çŠ¶ï¼š</p>
<p><img src="/img/P1955/1564486633365.png" alt="1564486633365"></p>
<p>æ—¢ç„¶æåˆ°äº†å°±è¯´è¯´è¿™ä¸ªâ€¦â€¦</p>
<h3 id="Cçš„æ–¹æ³•"><a href="#Cçš„æ–¹æ³•" class="headerlink" title="Cçš„æ–¹æ³•"></a>Cçš„æ–¹æ³•</h3><ul>
<li><p><code>fopen()</code>å‡½æ•°</p>
<p>ä½¿ç”¨æ–¹å¼ï¼š<code>fp = fopen(&quot;input.in&quot;, &quot;r&quot;)</code>ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ‰“å¼€æ–‡ä»¶çš„æ–‡ä»¶åï¼›</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ–‡ä»¶æ–¹å¼ï¼Œæ˜¯æ–‡ä»¶çš„ç±»å‹å’Œæ“ä½œè¦æ±‚ï¼Œæœ‰å¦‚ä¸‹å‡ ç§ï¼ˆç»„åˆï¼‰ï¼š<ul>
<li><code>r</code>ï¼šåªè¯»ï¼ˆreadï¼‰ï¼Œè¦æ±‚æ–‡ä»¶å¿…é¡»å·²ç»å­˜åœ¨ï¼›</li>
<li><code>w</code>ï¼šåªå†™ï¼ˆWriteï¼‰ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™è‡ªåŠ¨åˆ›å»ºï¼Œå¦‚æœå·²å­˜åœ¨åˆ™åˆ é™¤åŸæ–‡ä»¶åæ–°å»ºï¼›</li>
<li><code>a</code>ï¼šè¿½åŠ ï¼ˆAppendï¼‰ï¼Œä¿ç•™æ–‡ä»¶ä¸­å·²æœ‰å†…å®¹ï¼Œä»æ–‡ä»¶å°¾å¼€å§‹å†™ï¼›</li>
<li><code>t</code>ï¼šæ–‡æœ¬æ–‡ä»¶ï¼ˆTextï¼‰ï¼Œå¯å¿½ç•¥ï¼›</li>
<li><code>b</code>ï¼šäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆBinaryï¼‰ï¼›</li>
<li><code>+</code>ï¼šè¯»å†™ã€‚</li>
</ul>
</li>
<li>è¿”å›å€¼ä¸ºæ–‡ä»¶æŒ‡é’ˆï¼Œä¸ºFILEç±»å‹çš„æŒ‡é’ˆå˜é‡ã€‚</li>
</ul>
<p>åœ¨å…·ä½“ä½¿ç”¨æ­¤æ–¹æ³•å†™å…¥æ—¶ï¼Œä½¿ç”¨<code>fscanf(fp, &quot;%d&quot;, &amp;n)</code>æ¥è¯»å–ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–‡ä»¶æŒ‡é’ˆåï¼Œå³ä½¿ç”¨<code>fopen</code>è¿”å›çš„æŒ‡é’ˆï¼›</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ ¼å¼æ§åˆ¶ç¬¦ï¼ŒåŒ<code>scanf()</code>çš„ä½¿ç”¨æ–¹å¼ï¼›</li>
<li>ç¬¬ä¸‰åŠä»¥åçš„å‚æ•°ä¸ºä¼ å…¥å˜é‡çš„æŒ‡é’ˆã€‚</li>
</ul>
<p>ä½¿ç”¨<code>fprintf(fp, &quot;%d\n&quot;, n)</code>æ¥å†™å…¥æ–‡ä»¶ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ–‡ä»¶æŒ‡é’ˆåï¼Œå³ä½¿ç”¨fopenè¿”å›çš„æŒ‡é’ˆï¼›</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ ¼å¼æ§åˆ¶ç¬¦ï¼ŒåŒ<code>printf()</code>çš„ä½¿ç”¨æ–¹å¼ï¼›</li>
<li>ç¬¬ä¸‰åŠä»¥åçš„å‚æ•°ä¸ºè¾“å‡ºå˜é‡ã€‚</li>
</ul>
<p>ç»“æŸä½¿ç”¨è¯¥å‡½æ•°ä½¿ç”¨ï¼š<code>fclose(fp)</code></p>
</li>
<li><p><code>freopen()</code>å‡½æ•°</p>
<p>ä½¿ç”¨æ–¹å¼ï¼š<code>freopen(&quot;input.in&quot;, &quot;r&quot;, stdin);freopen(&quot;output.out&quot;, &quot;w&quot;, stdout);</code>ï¼š</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ‰“å¼€æ–‡ä»¶çš„æ–‡ä»¶åï¼›</li>
<li>ç¬¬äºŒä¸ªå‚æ•°ä¸ºæ–‡ä»¶æ–¹å¼ï¼ŒåŒ<code>fopen()</code>å‡½æ•°ï¼›</li>
<li>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ–‡ä»¶æŒ‡é’ˆï¼Œé€šå¸¸ä½¿ç”¨æ ‡å‡†æµæ–‡ä»¶ï¼ˆ<code>stdin</code>/<code>stdout</code>/<code>stderr</code>ï¼‰ã€‚</li>
</ul>
<p>ä½¿ç”¨<code>freopen()</code>å‡½æ•°ï¼Œå¹¶ä½¿ç”¨äº†æ ‡å‡†æµæ–‡ä»¶åï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨<code>scanf()</code>ä¸<code>printf()</code>æ¥è¯»å…¥å’Œå†™å‡ºã€‚</p>
<p>ç»“æŸä½¿ç”¨<code>fclose(stdin);fclose(stdout)</code>ã€‚</p>
</li>
</ul>
<h3 id="C-çš„æ–¹æ³•"><a href="#C-çš„æ–¹æ³•" class="headerlink" title="C++çš„æ–¹æ³•"></a>C++çš„æ–¹æ³•</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ifstream <span class="title">inputFL</span><span class="params">(<span class="string">"input.in"</span>)</span></span>;</span><br><span class="line"><span class="function">ofstream <span class="title">outputFL</span><span class="params">(<span class="string">"putput.out"</span>)</span></span>;</span><br><span class="line">inputFL &gt;&gt; n;</span><br><span class="line">outputFL &lt;&lt; n &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">inputFL.close();</span><br><span class="line">outputFL.close();</span><br></pre></td></tr></table></figure>

<h2 id="æ­£å¼é¢˜è§£"><a href="#æ­£å¼é¢˜è§£" class="headerlink" title="æ­£å¼é¢˜è§£"></a>æ­£å¼é¢˜è§£</h2><p>åŸºæœ¬é¢˜æ„å°±æ˜¯ç»™ä½ å‡ ä¸ªçº¦æŸæ¡ä»¶çœ‹ä»–ä»¬èƒ½ä¸èƒ½å…±å­˜æˆç«‹ã€‚è€Œç›¸ç­‰å…³ç³»çš„çº¦æŸæ¡ä»¶æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æƒ³åˆ°å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªå›¾ï¼Œå‡ºç°ç›¸ç­‰å…³ç³»å°±è¯´æ˜å®ƒä»¬åœ¨ä¸€ä¸ªä¸ªå›¾ä¸Š $\Rightarrow$ ä¸¤ä¸ªå€¼çš„æœ€ç»ˆç¥–å…ˆèŠ‚ç‚¹ç›¸åŒã€‚è€Œå‡ºç°ä¸ç­‰å…³ç³»å°±è¯´æ˜å®ƒä»¬æ²¡åœ¨ä¸€ä¸ªå›¾ä¸Šï¼Œæ‰€ä»¥è¿™ä¸ªé—®é¢˜å°±å¯ä»¥è½¬æ¢æˆä¸€ä¸ªå¹¶æŸ¥é›†é—®é¢˜ã€‚åœ¨è¿™é‡Œè´´ä¸Šå¹¶æŸ¥åŸºå¸¸ç”¨çš„æ¿å­ï¼š</p>
<ul>
<li><p>å¾—åˆ°æœ€ç»ˆç¥–å…ˆï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == fa[x])&#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">return</span> fa[x] = get(fa[x]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆå¹¶ä¸¤æ£µæ ‘ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> faOa = get(a);</span><br><span class="line">    <span class="keyword">int</span> faOb = get(b);</span><br><span class="line">    <span class="keyword">if</span>(faOa != faOb)&#123;</span><br><span class="line">        fa[b] = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>è€Œæ³¨æ„åˆ°é¢˜ç›®æ•°æ®é‡å¾ˆå¤§ï¼Œ$i$ã€$j$ çš„èŒƒå›´åˆ°äº† $10^9$ï¼Œæ— æ³•å¼€é‚£ä¹ˆå¤§çš„æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨åˆ°äº†ç¦»æ•£åŒ–ã€‚æˆ‘çš„ç¦»æ•£åŒ–çš„åšæ–‡çš„ä¼ é€é—¨ï¼š<a href="https://www.kongjune.com/2019/07/30/%E7%A6%BB%E6%95%A3%E5%8C%96/" target="_blank" rel="noopener">ğŸšª</a></p>
<p>åŸºæœ¬æ€æƒ³å°±æ˜¯çœ‹è¾“å…¥çš„ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒå°±ä¿ç•™åˆ°ä¸€æ£µæ ‘ä¸Šã€‚å¦‚æœä¸ç›¸åŒçš„è¯æ£€æŸ¥ä¸¤ä¸ªç‚¹çš„æ ¹ç»“ç‚¹æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒåˆ™è¯´æ˜è¿™ä¸¤ä¸ªå€¼å·²ç»ç›¸åŒï¼Œå‡ºç°çŸ›ç›¾ï¼Œåˆ™è¾“å‡ºâ€œNOâ€ã€‚ä¸ºäº†å®ç°è¿™ä¸ªæ€æƒ³ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å¯¹è¾“å…¥è¿›è¡Œæ’åºï¼Œå°†ç›¸ç­‰å…³ç³»æ”¾åœ¨å‰é¢é¢„å…ˆåˆ¤æ–­ã€‚</p>
<p>ACä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> inputFL cin</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> outputFL cout</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">    <span class="keyword">bool</span> e;</span><br><span class="line">&#125;Nodes[<span class="number">100005</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a, Node b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.e &gt; b.e;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dict[<span class="number">1000005</span>];</span><br><span class="line"><span class="keyword">int</span> fa[<span class="number">1000005</span>];</span><br><span class="line"><span class="keyword">int</span> cnt, uqcnt;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == fa[x]) &#123;</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">return</span> fa[x] = get(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// void merge(int x, int y)&#123;</span></span><br><span class="line"><span class="comment">//     fa[get(x)] = get(y);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">// ifstream inputFL("prog.in"); // C++æ–¹å¼ï¼Œ Cä½¿ç”¨freopen()</span></span><br><span class="line">    <span class="comment">// ofstream outputFL("prog.out");</span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    inputFL &gt;&gt; T;</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        inputFL &gt;&gt; n;</span><br><span class="line">        <span class="built_in">memset</span>(dict, <span class="number">0</span>, <span class="keyword">sizeof</span>(dict));</span><br><span class="line">        <span class="built_in">memset</span>(fa, <span class="number">0</span>, <span class="keyword">sizeof</span>(fa));</span><br><span class="line">        uqcnt = cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            inputFL &gt;&gt; Nodes[i].x &gt;&gt; Nodes[i].y &gt;&gt; Nodes[i].e;</span><br><span class="line">            dict[cnt++] = Nodes[i].x;</span><br><span class="line">            dict[cnt++] = Nodes[i].y;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(dict, dict + cnt);</span><br><span class="line">        uqcnt = unique(dict, dict + cnt) - dict;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            Nodes[i].x = lower_bound(dict, dict + uqcnt, Nodes[i].x) - dict;</span><br><span class="line">            Nodes[i].y = lower_bound(dict, dict + uqcnt, Nodes[i].y) - dict;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; uqcnt; i++) &#123;</span><br><span class="line">            fa[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> check = <span class="number">1</span>;</span><br><span class="line">        sort(Nodes, Nodes + n, cmp);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> a = get(Nodes[i].x);</span><br><span class="line">            <span class="keyword">int</span> b = get(Nodes[i].y);</span><br><span class="line">            <span class="keyword">if</span> (Nodes[i].e) &#123;</span><br><span class="line">                fa[a] = b;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (a == b) &#123;</span><br><span class="line">                    check = <span class="number">0</span>;</span><br><span class="line">                    outputFL &lt;&lt; <span class="string">"NO"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (check)</span><br><span class="line">            outputFL &lt;&lt; <span class="string">"YES"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç‰¹åˆ«æé†’</strong>ï¼šä¸€å®šè¦åˆ†æ¸…ç¦»æ•£åŒ–ä¸­å„ä¸ªå˜é‡çš„å…·ä½“å«ä¹‰ä¸ç”¨å¤„ï¼Œå¦åˆ™å°±ä¼šå‡ºç°ä»¥ä¸‹çš„çŠ¶å†µè€Œæ— ä»ä¸‹æ‰‹ï¼š</p>
<p><img src="/img/P1955/1564489428381.png" alt="1564489428381"></p>

        </div>
        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>æœ¬æ–‡ä½œè€…:</span>
                        <a itemprop="author" rel="author" href="/"><span>KONGJUNE</span></a>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>æœ¬æ–‡é“¾æ¥:</span>
                        <span><a href="http://kongjune.com/2019/07/30/P1955/">http://kongjune.com/2019/07/30/P1955/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>ç‰ˆæƒå£°æ˜:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>æœ¬æ–‡æ ‡ç­¾:</span>
                <span class="tag">
                    
                    
                        <a href="/tags/ACM/"># ACM</a>
                    
                        <a href="/tags/Programming/"># Programming</a>
                    
                        <a href="/tags/é¢˜è§£/"># é¢˜è§£</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">è¿”å›ä¸Šä¸€é¡µ</a>
                <span>Â· </span>
                <a href="/">è¿”å›ä¸»é¡µ</a>
            </div>
        </section>
        <section class="post-nav">
            
            
            <a class="next" rel="next" href="/2019/07/30/ç¦»æ•£åŒ–/">è’Ÿè’»çš„ACMåˆä½“éªŒâ€”â€”ç¦»æ•£åŒ–</a>
            
        </section>
        <!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
        <div id="lv-container" data-id="city" data-uid="MTAyMC80NTY1NC8yMjE2NQ==">
        	<script type="text/javascript">
           (function(d, s) {
               var j, e = d.getElementsByTagName(s)[0];

               if (typeof LivereTower === 'function') { return; }

               j = d.createElement(s);
               j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
               j.async = true;

               e.parentNode.insertBefore(j, e);
           })(document, 'script');
        	</script>
        <noscript> ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
        </div>
        <!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->
    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>Â© KONGJUNE | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
